本文旨在解决在多声部音乐中分离不同声部（声乐流）的感知任务，特别是将符号音乐中的音符进行有效分离。

为了实现这一目标，本文采用了一种基于图神经网络（GNN）的多轨迹跟踪（MTT）方法，将声部分离建模为一个链接预测问题。通过构建一个音乐片段的图，节点代表音符，预测音符之间的链接以识别同一声部的连续音符。这种方法不依赖于领域特定的启发式算法，且具有可扩展性，能够处理复杂情况，如声部交错和重叠。

本文的实验结果表明，该方法在多种风格的古典音乐声部分离任务上取得了新的最先进结果。与现有方法相比，本文的优势在于能够在不进行全局优化的情况下，仅通过局部贪婪预测实现高质量的声部分离。此外，提出的正则化损失函数有效地增强了模型的性能，确保每个音符最多只有一个输入和一个输出链接，从而更好地符合声部分离的要求。

---

本文提出的方法主要包括以下几个关键步骤：

### 1. **构建异构图**
   - **节点和边**：每个音符被视为图中的一个节点。根据音符之间的时间关系，建立多种类型的边（关系），包括“开始”、“持续”、“跟随”等。这些边捕捉了音符之间的 temporal 关系。
   - **多种关系类型**：通过定义不同类型的边，方法能够更好地表达音符之间的复杂关系，提供更丰富的上下文信息。

### 2. **节点特征表示**
   - 每个音符节点都有一个特征向量，包含音符的音高、时值等信息。特征经过归一化处理，使其独立于乐曲的拍号。
   - 此外，使用基于拉普拉斯特征向量的位置信息增强节点特征，使其更具辨识度。

### 3. **图神经网络（GNN）编码器**
   - 使用残差门控卷积（Residual Gated Convolutions）和跳跃知识（Jumping Knowledge）机制，节点特征经过多层卷积处理，生成上下文丰富的嵌入表示。
   - 对于不同类型的边，分别计算其独立的表示，并在每个卷积块的输出中进行平均，确保模型能够捕捉到多样的边关系。

### 4. **链接预测**
   - 通过一个多层感知机（MLP），模型进行二分类任务，预测音符之间是否存在链接。只有在满足特定时间条件的潜在链接（即后续音符）才会被考虑。
   - 根据预测的概率，进行硬阈值处理，以确定最终的链接预测结果。

### 5. **正则化损失函数**
   - 为了确保每个节点最多只有一个输入和一个输出链接，本文提出了一种新的正则化损失函数。此损失函数鼓励模型输出的链接结构符合多轨迹跟踪的要求。
   - 通过将分类损失与正则化损失结合，训练过程中逐步引导模型达到更优的预测结构。

### 6. **后处理**
   - 应用匈牙利算法解决线性分配问题，以优化最终的链接预测结果，确保每个音符链接的唯一性。

这种方法结合了图神经网络的灵活性和多轨迹跟踪的结构性，使得音符的声部分离任务可以在复杂的音乐背景下高效且准确地进行。