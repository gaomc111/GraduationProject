本文的主要内容如下：

1. **解决的问题**：
   本文旨在系统地理解知识图谱中图神经网络（GNN）在链接预测任务中的能力和局限性。尽管现有的GNN模型在简单图形上表现良好，但在知识图谱上的应用仍然理解不足，尤其是在链接预测这一重要任务中。

2. **使用的方法**：
   本文提出了条件消息传递神经网络（C-MPNNs），通过计算源节点和查询关系条件下的节点对表示，来进行链接预测。该方法基于关系Weisfeiler-Leman算法，提供了一种统一的视角来分析多种GNN模型的表达能力，并进行了理论上的逻辑特征化。此外，本文通过实验验证了不同模型设计选择的影响。

3. **优秀结果与优势**：
   本文的实验表明，C-MPNNs在多个真实世界数据集上相较于传统的关系消息传递神经网络（R-MPNNs）表现更优，尤其是在链接预测任务中。通过不同的初始化、历史函数、消息计算和全局读出功能的选择，C-MPNNs展现了更强的表达能力和灵活性，从而在理论和实践中均验证了其优势。

---

条件消息传递神经网络（Conditional Message Passing Neural Networks, C-MPNNs）是一种为解决知识图谱中的链接预测问题而提出的图神经网络架构。以下是对C-MPNNs的详细解释：

### 1. 基本概念
C-MPNNs通过条件化的方式计算节点对的表示，相较于传统的消息传递神经网络（MPNNs），它在每次更新时都考虑源节点和查询关系。这种方法使得模型能够生成更为精确的节点对表示，适用于链接预测任务。

### 2. 结构与工作原理
C-MPNNs的基本结构包括以下几个组件：

- **初始化（INIT）**：
  在模型的初始化阶段，C-MPNNs为每一对节点（源节点u和目标节点v）生成表示。初始化函数会根据源节点、目标节点和查询关系来生成初始表示。例如，可以使用指示函数来区分源节点和其他节点。

- **消息传递（Message Passing）**：
  C-MPNNs通过迭代的方式更新节点表示。在每一层中，模型通过聚合邻居节点的信息来更新目标节点的表示。消息传递过程涉及以下步骤：
  - **消息计算（MSGr）**：基于特定关系从邻居节点生成消息。
  - **聚合（AGG）**：将邻居节点的消息汇总，以更新目标节点的表示。
  - **更新（UPD）**：结合当前节点的表示和聚合的消息，使用可微分的更新函数来生成新的节点表示。

- **全局读出（Readout）**：
  在某些情况下，C-MPNNs还可以包含全局读出层，将所有节点的表示汇总，以便进行最终的决策。

### 3. 特征与优势
- **条件化表示**：
  C-MPNNs通过条件化的方式生成节点对的表示，使得模型在处理链接预测时能够更好地捕捉源节点和查询关系的影响。

- **灵活性与可扩展性**：
  C-MPNNs的设计允许用户在多个方面进行灵活配置，如初始化方式、聚合方法和消息计算方法，从而适应不同的应用场景和数据特性。

- **理论支持**：
  本文中还对C-MPNNs的表达能力进行了理论分析，证明了其能够匹配关系Weisfeiler-Leman算法的表达能力，为其在链接预测任务的效果提供了理论基础。

### 4. 实验验证
通过在多个真实世界数据集上的实验，C-MPNNs展示了在链接预测任务中的优越性能，相较于传统的R-MPNNs和其他模型，C-MPNNs在准确性和效率上均表现更佳。

### 总结
C-MPNNs是一种新颖的图神经网络架构，通过条件消息传递的方式，优化了知识图谱中的链接预测任务，其灵活性和强大的表达能力使其成为该领域的重要工具。